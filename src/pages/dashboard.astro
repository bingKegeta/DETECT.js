---
import { getCollection } from "astro:content"; // Fetch session data from a CMS or DB
import Main from "../layouts/Main.astro";

// Fetch session data (replace with API call if needed)
const sessions = await getCollection("sessions");
---

<Main>
  <div class="flex flex-col items-center justify-center h-full relative">
    <!-- Title -->
    <h2 class="text-2xl font-semibold text-white mb-6">
      {sessions.length === 0 ? "Welcome!" : "Your Sessions"}
    </h2>

    <!-- Session List (Now without the extra box) -->
    <ul class="list-none p-0 text-center">
      {sessions.length === 0 ? (
        <p class="text-gray-400">No sessions yet. Start a new one!</p>
      ) : (
        sessions.map((session: any) => (
          <li
            class="mb-2 rounded-full p-2 bg-primary text-primary-content
            transition-transform transform-gpu hover:scale-105
            hover:shadow-md hover:border-b-4 hover:border-b-success cursor-pointer"
          >
            <a href={`/session/${session.slug}`} class="justify-center flex">
              {session.title}
            </a>
          </li>
        ))
      )}
    </ul>

    <!-- "New Session" Button Moved to Bottom Right -->
    <a
      href="/new"
      class="absolute bottom-4 right-4 rounded-full p-3 bg-primary text-primary-content
      transition-transform transform-gpu hover:scale-105
      hover:shadow-md hover:border-b-4 hover:border-b-success"
    >
      + New Session
    </a>
  </div>
</Main>
