---
import Modal from "./Modal";
import Section from "./Section.astro";
import ThemeSwitcher from "./ThemeSwitcher";
---

<Section
  size="w-full h-auto flex flex-col"
  padding="p-5"
  margin="m-0"
  bg="bg-base-300"
>
  <h2 class="text-2xl font-semibold text-base-content mb-4">Settings</h2>

  <!-- Theme Switcher -->
  <div
    class="flex justify-between items-center bg-base-300 py-4 rounded-lg shadow-md text-base-100"
  >
    <span>Theme</span>
    <ThemeSwitcher client:load />
  </div>

  <!-- Tracking & Analysis Settings -->
  <div class="flex flex-col gap-4 text-base-content">
    <label
      class="flex items-center justify-between bg-base-200 p-4 rounded-lg shadow-md"
    >
      Normalization
      <input type="checkbox" class="toggle-switch" />
    </label>

    <label
      class="flex items-center justify-between bg-base-200 p-4 rounded-lg shadow-md"
    >
      Graphing
      <input type="checkbox" class="toggle-switch" />
    </label>

    <label
      class="flex items-center justify-between bg-base-200 p-4 rounded-lg shadow-md"
    >
      Griddy
      <input type="checkbox" class="toggle-switch" />
    </label>

    <label
      class="flex items-center justify-between bg-base-200 p-4 rounded-lg shadow-md"
    >
      Some Stuff
      <input type="checkbox" class="toggle-switch" />
    </label>
  </div>

  <!-- Close Button -->
  <button
    id="settings-close-btn"
    class="mt-4 p-3 text-accent bg-base-100 rounded-lg border-2 border-accent
    transition-transform transform-gpu cursor-pointer
    hover:scale-105 hover:border-error hover:bg-error hover:text-error-content"
  >
    Close
  </button>
  <Modal client:visible buttonText="Logout" buttonClassName="text-error-content bg-error w-full rounded-lg py-2">
    <p class="text-lg text-error-content">Are you sure?</p>
    <section class="flex flex-row">
      <!-- <button id="settings-close-btn" class="rounded-lg bg-primary text-base-100 p-2 mx-2 w-full">No</button> -->
      <a href="/" class="rounded-lg bg-error text-error-content p-2 w-full text-center">Yes</a>
    </section>
  </Modal>


  <!-- iPhone-Style Toggle Switch Styling -->
  <style>
    .toggle-switch {
      appearance: none;
      width: 50px;
      height: 26px;
      background-color: var(--color-primary);
      border-radius: 20px;
      position: relative;
      transition: background 0.3s ease-in-out;
      cursor: pointer;
      outline: none;
    }

    .toggle-switch::before {
      content: "";
      position: absolute;
      width: 22px;
      height: 22px;
      background-color: var(--color-base-100);
      border-radius: 50%;
      top: 2px;
      left: 2px;
      transition: transform 0.3s ease-in-out;
    }

    .toggle-switch:checked {
      background-color: var(--color-success);
    }

    .toggle-switch:checked::before {
      transform: translateX(24px);
    }
  </style>
</Section>